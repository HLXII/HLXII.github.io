<div class="modal fade" id="GeneratorModal" tabindex="-1" role="dialog"
aria-labelledby="GeneratorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
        <!-- ko if: LabController.openedMachine().state instanceof GeneratorState -->
        <div class="modal-content" style="overflow: initial" data-bind="with: LabController.openedMachine().state, as: 'state'">
            <div class="modal-header">
                <h5 data-bind="text: LabController.openedMachine().machine.name"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- ko if: App.game.lab.isResearched(Lab.Research.generator_fuel) -->
                <div class="row no-gutters justify-content-center">
                    <h4>
                        <span data-bind="text: 'Fuel: ' + state.fuel.toFixed(1) + '/' + Generator.fuelCapacity()">Fuel</span>
                    </h4>
                </div>
                <ul class="row justify-content-center p-0" data-bind="foreach: Generator.getAvailableFuels()">
                    <li class="eggSlot col-3 col-md-3 pokedexEntry text-nowrap" data-bind="class: ''">
                        <span style="top: 0; border-top-left-radius: 6px; border-top-right-radius: 6px;" data-bind="text: $data.name">name</span>
                        <img src="" width="80px" data-bind="attr:{ src: BagHandler.image($data.type, $data.itemId) }">
                        <span style="bottom: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px" data-bind="text: 'Amount: ' + $data.itemAmount()">amount</span>
                        <a class="overlay" href="#fuel" data-bind="click: function() { state.addToQueue($data); }"></a>
                    </li>
                </ul>
                <!-- /ko -->
            </div>

            <div class="modal-footer">
                <button type="button" class="btn mr-auto"
                    data-bind="css: { 'btn-danger': state.active, 'btn-success': !state.active },
                    text: state.active ? 'Deactivate Machine' : 'Activate Machine',
                    click: function() { state.toggleState(); }">Toggle State</button>
                <button type="button" class="btn btn-danger"
                    data-bind="click: function() { LabController.openedMachine().remove(); }">Remove Machine</button>
            </div>
        </div>
        <!-- /ko -->
    </div>
</div>

